<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
<title>Merry Christmas</title>
<style>
    html,body{ margin:0; padding:0; width:100%; height:100%; overflow:hidden; background:#000; }
    .scene{ position:relative; width:100vw; height:100vh; background:radial-gradient(circle at top,#001b33,#000); overflow:hidden; }
    #snowCanvas{ position:absolute; inset:0; z-index:1; pointer-events:none; }
    .mainTree{ position:absolute; top:50%; left:50%; transform:translate(-50%,-50%); font-size:min(60vw,60vh); z-index:3; cursor:pointer; animation:sway 4s ease-in-out infinite; }
    @keyframes sway{ 0%,100%{transform:translate(-50%,-50%) rotate(-1deg);} 50%{transform:translate(-50%,-50%) rotate(1deg);} }
    .bottomText{ position:absolute; bottom:10%; width:100%; text-align:center; color:#fff; z-index:4; text-shadow:0 0 12px rgba(255,255,255,.8); font-family:cursive; }
    .title{ font-size:7vw; } .name{ font-size:6vw; margin-top:1vh; }
    .from{ position:absolute; bottom:2%; right:4%; font-size:4vw; color:rgba(255,255,255,.85); z-index:4; }
    /* å”¯ç¾å°è´´å£« */
    .tip{ position:absolute; max-width:44vw; padding:10px 16px; background:rgba(255,255,255,.18); border-radius:18px; backdrop-filter:blur(6px); color:#fff; font-size:4vw; opacity:0; transform:translate(-50%,-50%); transition:all 1s ease; z-index:4; }
    .tip.show{ opacity:1; transform:translate(-50%,-55%) scale(1.1); }
    /* å‘Šç™½å¼¹çª— */
    .love{ position:fixed; inset:0; display:flex; align-items:center; justify-content:center; background:rgba(0,0,0,.7); z-index:10; opacity:0; pointer-events:none; transition:opacity .8s ease; }
    .love.show{ opacity:1; pointer-events:auto; }
    .loveBox{ padding:30px 36px; background:rgba(255,255,255,.15); border-radius:24px; color:#fff; font-size:6vw; text-align:center; backdrop-filter:blur(8px); animation:heartbeat 1.6s infinite; }
    @keyframes heartbeat{ 0%,100%{transform:scale(1);} 50%{transform:scale(1.1);} }
    /* å¼ºåˆ¶ç‚¹å‡»å±‚ï¼šè§£å†³è‡ªåŠ¨æ’­æ”¾é™åˆ¶ */
    #overlay{ position:fixed; inset:0; background:rgba(0,0,0,0.4); z-index:99; display:flex; align-items:center; justify-content:center; color:#fff; font-size:5vw; cursor:pointer; }
</style>
</head>
<body>

<div id="overlay">ğŸ„ ç‚¹å‡»å¼€å¯åœ£è¯æƒŠå–œ â„ï¸</div>

<div class="scene">
    <canvas id="snowCanvas"></canvas>
    <div class="mainTree" id="tree">ğŸ„</div>
    <div class="bottomText">
        <div class="title">Merry Christmas</div>
        <div class="name">æ¶µå®</div>
    </div>
    <div class="from">From TQF</div>
</div>

<div class="love" id="love">
    <div class="loveBox">æ¢è¯—æ¶µ<br>æˆ‘å–œæ¬¢ä½  ğŸ’–</div>
</div>

<audio id="bgm" loop preload="auto">
    <source src="bgm.mp3" type="audio/mpeg">
</audio>

<script>
    const bgm = document.getElementById('bgm');
    const overlay = document.getElementById('overlay');
    const tree = document.getElementById('tree');
    const love = document.getElementById('love');

    // è§£å†³â€œå›ºå®šå¼€å¯â€ï¼šé€šè¿‡ä¸€ä¸ªå…¨å±é®ç½©å¼ºè¿«ç”¨æˆ·ç‚¹ä¸€ä¸‹ï¼Œç‚¹å®Œç«‹åˆ»æ’­éŸ³ä¹
    overlay.onclick = function() {
        bgm.play();
        overlay.style.display = 'none';
    };

    tree.onclick = () => {
        bgm.play(); // åŒé‡ä¿é™©
        love.classList.add('show');
        setTimeout(() => love.classList.remove('show'), 4000);
    };

    /* ===== å”¯ç¾é›ªèŠ±é€»è¾‘ï¼ˆä¸å†æ˜¯å•çº¯çš„åœ†ç‚¹ï¼‰ ===== */
    const canvas = document.getElementById("snowCanvas");
    const ctx = canvas.getContext("2d");
    function resize() { canvas.width = innerWidth; canvas.height = innerHeight; }
    resize(); window.onresize = resize;

    class Snow {
        constructor() {
            this.reset();
            this.y = Math.random() * canvas.height;
        }
        reset() {
            this.x = Math.random() * canvas.width;
            this.y = -20;
            this.size = Math.random() * 3 + 2; // éšæœºå¤§å°
            this.speed = Math.random() * 1 + 0.5; // éšæœºé€Ÿåº¦
            this.velX = (Math.random() - 0.5) * 1; // å·¦å³æ‘†åŠ¨
            this.opacity = Math.random() * 0.5 + 0.3;
        }
        update() {
            this.y += this.speed;
            this.x += this.velX;
            if (this.y > canvas.height) this.reset();
        }
        draw() {
            // ä½¿ç”¨å¾„å‘æ¸å˜æ¨¡æ‹Ÿé›ªèŠ±çš„æœ¦èƒ§æ„Ÿ
            ctx.beginPath();
            const gradient = ctx.createRadialGradient(this.x, this.y, 0, this.x, this.y, this.size);
            gradient.addColorStop(0, `rgba(255, 255, 255, ${this.opacity})`);
            gradient.addColorStop(0.8, `rgba(255, 255, 255, ${this.opacity * 0.4})`);
            gradient.addColorStop(1, 'rgba(255, 255, 255, 0)');
            ctx.fillStyle = gradient;
            ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
            ctx.fill();
        }
    }

    const snows = Array.from({ length: 120 }, () => new Snow());
    function anim() {
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        snows.forEach(s => { s.update(); s.draw(); });
        requestAnimationFrame(anim);
    }
    anim();

    /* å°è´´å£«é€»è¾‘ */
    const tips = ["å¤©å†·è®°å¾—å¤šç©¿ä¸€ç‚¹ â˜ƒï¸", "ä¸å¼€å¿ƒçš„æ—¶å€™æƒ³æƒ³æˆ‘ ğŸ’—", "è®°å¾—æŒ‰æ—¶åƒé¥­ ğŸ°", "å¸Œæœ›è¿™ä¸ªå†¬å¤©æˆ‘èƒ½é™ªä½  âœ¨", "æˆ‘ç»™ä½ æš–æ‰‹æ‰‹ ğŸ”¥", "ä½ æ°¸è¿œå€¼å¾—è¢«çˆ± ğŸ’"];
    setInterval(() => {
        const tip = document.createElement("div");
        tip.className = "tip";
        tip.innerText = tips[Math.floor(Math.random()*tips.length)];
        document.body.appendChild(tip);
        tip.style.left = (Math.random() * 60 + 20) + "%";
        tip.style.top = (Math.random() * 50 + 20) + "%";
        setTimeout(() => tip.classList.add("show"), 100);
        setTimeout(() => { tip.classList.remove("show"); setTimeout(()=>tip.remove(), 1000); }, 3000);
    }, 4000);
</script>
</body>
</html>
